<h3>Development environment</h3>

<h4>Installation</h4>

<ol>
    <li>

<p>You can create a repo for your project like this:</p>

<p>First create an empty repository on github (your-login/my-project) and then:</p>

<snippet class="bash">&gt; mkdir MyProject
&gt; cd MyProject
&gt; git init
&gt; git remote add skeleton https://github.com/basarevych/zf2-skeleton.git
&gt; git pull skeleton master
&gt; git remote add origin https://github.com/your-login/my-project.git
&gt; git push -u origin master
</snippet>

    </li><li>

<p>Run installation script:</p>

<snippet class="bash">&gt; cd MyProject
&gt; ./scripts/install
</snippet>

    </li><li>

<p>Install dependencies in <em>development</em> mode and build the <strong>public.dev</strong>:</p>

<snippet class="bash">&gt; cd MyProject
&gt; ./scripts/update dev
&gt; ./scripts/build-front dev
</snippet>

    </li><li>

<p>Inspect/modify local (ignored by git) config files created in <strong>config/autoload</strong> directory by installation script.</p>

<p>Read the README in <strong>config/autoload/</strong> if you don't know the difference between local/global config files.</p>

    </li><li>

<p>Delete examples if you don't need them</p>

<snippet class="bash">&gt; cd MyProject
&gt; ./scripts/remove-examples
</snippet>

    </li><li>

<p>Run development server (do not use in production)</p>

<snippet class="bash">&gt; cd MyProject
&gt; ./scripts/dev-server --watch
</snippet>

<p>This will run PHP web server on port 8000 of localhost.</p>

    </li>
</ol>

<h4>Adding new front-end dependency</h4>

<ol>
    <li>

<p>Add the appropriate line to "require" section of <strong>bower.json</strong>.</p>

    </li><li>

<p>Run <strong>scripts/install-dependecies</strong> in <em>dev</em> mode.</p>

    </li><li>

<p>Now find .js and .css files of the dependency in <strong>front/bower_components</strong> subdirectory and add them to <strong>Gruntfile.js</strong>.</p>

    </li><li>

<p>Run <strong>scripts/build-front dev</strong> script to create new <strong>vendor.js</strong> and <strong>vendor.css</strong> files in <strong>public.dev</strong>.</p>

    </li>
</ol>

<h4>Saving compiled frontend files</h4>

<p>When you are done testing <strong>public.dev</strong> (which is ignored by git) simply run <strong>build-front prod</strong> script. It will created <strong>public.prod</strong> directory which you should commit into the repo.

<p>This way when you checkout the repo on production server you will have all the frontend files ready to be used, just point your web-server to <strong>public.prod</strong> and install PHP prod-dependencies.</p>

<h3>Production environment</h3>

<h4>Installation</h4>

<ol>
    <li>

<p>Create project directory:</p>

<snippet class="bash">&gt; git clone https://github.com/your-login/my-project.git MyProject
</snippet>

    </li><li>

<p>Run installation script:</p>

<snippet class="bash">&gt; cd MyProject
&gt; ./scripts/install
</snippet>

    </li><li>

<p>Create production mode web server configs.</p>

<snippet>&lt;VirtualHost *:80&gt;
    ServerName my-project.example.com
    DocumentRoot /path/to/MyProject/public.prod
    &lt;Directory /path/to/MyProject/public.prod&gt;
        DirectoryIndex index.php
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</snippet>

    </li>
</ol>

<h4>Updating production server</h4>

<p>In order to update the production server all you need is:</p>

<snippet class="bash">&gt; cd MyProject
&gt; git pull
&gt; ./scripts/update prod
</snippet>
