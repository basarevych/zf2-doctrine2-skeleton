<h3>ZF2 Error Strategy</h3>

<p>The framework comes with two error strategies: ExceptionStrategy and RouteNotFoundStrategy. They are both quite simple and just print the error.</p>

<p>This ErrorStrategy class is a replacement for both of them (it unregisters that strategies).</p>

<p>The main idea here is to turn everything into an exception. It handles the exception in the following way:</p>

<ul>
    <li>

<p><strong>Application\Exception\HttpException</strong> uses its <strong>code</strong> parameter as the resulting HTTP error</p>

<p>Subclasses:</p>

<ul>
    <li>

<p><strong>Application\Exception\BadRequestException</strong> - 400 Bad Request</p>

    </li><li>

<p><strong>Application\Exception\UnauthorizedException</strong> - 401 Unauthorized</p>

    </li><li>

<p><strong>Application\Exception\AccessDeniedException</strong> - 403 Forbidden</p>

    </li><li>

<p><strong>Application\Exception\NotFoundException</strong> - 404 Not Found</p>

    </li><li>

<p><strong>Application\Exception\NotImplementedException</strong> - 405 Not Implemented</p>

    </li><li>

<p>Any other exception returns error 500 (Internal server Error)</p>

    </li>
</ul>

<p>So if you need to return a specific error from your controller, for example, you can just throw an exception:</p>

<snippet class="php">// Produces 404 Not Found:
throw new \Application\Exception\HttpException('The message', 404);

// The same result:
throw new \Application\Exception\NotFoundException('The message');
</snippet>

<p>The other useful feature is emailing the exception to predefined address.</p>

<h3>Configuration</h3>

<p><strong>exception.local.php</strong>:</p>

<snippet class="php">'exceptions' =&gt; [
    'display'       =&gt; true,    // Display exception details?
    'forward' =&gt; [
        'enabled'   =&gt; false,   // Forward exception via email?
        'codes'     =&gt; [ 500 ], // 500: non-HTTP exceptions,
                                // 403: Access Denied,
                                // 404: Not Found, etc
        'from'      =&gt; "root@localhost",        // Use real one
        'to'        =&gt; "tester@example.com",    // Who will receive report
        'subject'   =&gt; "MyProject Exception"    // The project name
    ]
],
</snippet>

<p><strong>'display'</strong> parameter turn on/off printing of exception details to the user.</p>

<p><strong>'forward'</strong> section setup reporting the exception via email. Set <strong>'enabled'</strong> to <strong>true</strong> and list the exception codes you want to be informed of in <strong>'codes'</strong> parameter (Error 500 by default only).</p>
